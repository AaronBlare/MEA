
% Extract_6well_rasters

% takes usual raster - 60 electrodes and splits into 6 small rasters in
% struct index_r_6well_all , Each ratster is in the
% index_r_6well_all.RASTER_data( wi ).index_r



    % 1-60 ,  well N, in-wellN, Chan_name,  Chan_num_1
    lookuptable = ...
    [1,1,1,43,28;2,1,2,42,30;3,1,3,51,32;4,1,4,44,27;5,1,5,52,31;6,1,6,53,33;7,1,7,31,26;8,1,8,41,29;9,1,9,54,34;10,1,10,32,25;11,2,1,63,38;12,2,2,82,40;13,2,3,83,42;14,2,4,71,37;15,2,5,73,41;16,2,6,64,43;17,2,7,62,36;18,2,8,72,39;19,2,9,74,44;20,2,10,61,35;21,3,1,65,48;22,3,2,76,50;23,3,3,77,52;24,3,4,75,47;25,3,5,87,51;26,3,6,66,53;27,3,7,85,46;28,3,8,86,49;29,3,9,78,54;30,3,10,84,45;31,4,1,56,58;32,4,2,57,60;33,4,3,48,2;34,4,4,55,57;35,4,5,47,1;36,4,6,46,3;37,4,7,68,56;38,4,8,58,59;39,4,9,45,4;40,4,10,67,55;41,5,1,36,8;42,5,2,17,10;43,5,3,16,12;44,5,4,28,7;45,5,5,26,11;46,5,6,35,13;47,5,7,37,6;48,5,8,27,9;49,5,9,25,14;50,5,10,38,5;51,6,1,34,18;52,6,2,23,20;53,6,3,22,22;54,6,4,24,17;55,6,5,12,21;56,6,6,33,23;57,6,7,14,16;58,6,8,13,19;59,6,9,21,24;60,6,10,15,15;];
    %  ---<<<<<<<<<<
%    [1,1,1,43,28;
%     2,1,2,42,30;
%     3,1,3,51,32;
%     4,1,4,44,27;
%     5,1,5,52,31;
%     6,1,6,53,33;
%     7,1,7,31,26;
%     8,1,8,41,29;
%     9,1,9,54,34;
%     10,1,10,32,25; gnd


%  lookuptable = ...
% 
% 1,1,1,43,28;
% 2,1,2,42,30;
% 3,1,3,51,32;
% 4,1,4,44,27;
% 5,1,5,52,31;
% 6,1,6,53,33;
% 7,1,7,31,26;
% 8,1,8,41,29;
% 9,1,9,54,34;
% 10,1,10,32,25;
% 
% 11,2,1,63,38;
% 12,2,2,82,40;
% 13,2,3,83,42;
% 14,2,4,71,37;
% 15,2,5,73,41;
% 16,2,6,64,43;
% 17,2,7,62,36;
% 18,2,8,72,39;
% 19,2,9,74,44;
% 20,2,10,61,35;
% 
% 21,3,1,65,48;
% 22,3,2,76,50;
% 23,3,3,77,52;
% 24,3,4,75,47;
% 25,3,5,87,51;
% 26,3,6,66,53;
% 27,3,7,85,46;
% 28,3,8,86,49;
% 29,3,9,78,54;
% 30,3,10,84,45;
% 
% 31,4,1,56,58;
% 32,4,2,57,60;
% 33,4,3,48,2;
% 34,4,4,55,57;
% 35,4,5,47,1;
% 36,4,6,46,3;
% 37,4,7,68,56;
% 38,4,8,58,59;
% 39,4,9,45,4;
% 40,4,10,67,55;
% 
% 41,5,1,36,8;
% 42,5,2,17,10;
% 43,5,3,16,12;
% 44,5,4,28,7;
% 45,5,5,26,11;
% 46,5,6,35,13;
% 47,5,7,37,6;
% 48,5,8,27,9;
% 49,5,9,25,14;
% 50,5,10,38,5;
% 
% 51,6,1,34,18;
% 52,6,2,23,20;
% 53,6,3,22,22;
% 54,6,4,24,17;
% 55,6,5,12,21;
% 56,6,6,33,23;
% 57,6,7,14,16;
% 58,6,8,13,19
% 59,6,9,21,24;
% 60,6,10,15,15;];



%     28 30 32 27 31 33 26 29 34 25 
%     A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 
%     figure
index_r_6well_all = [];
index_r_6well_all.RASTER_data = [];
    for wi = 1 : 6
        index_r_6well = [];
         for ci = 1 : 9
           chan_num_1i_i = find( lookuptable(   :, 2 ) == wi & lookuptable( : , 3) == ci ) ;
           chan_num_1i =    lookuptable(   chan_num_1i_i , 5 ) ;
           chan_index = find(  index_r( : , 2 ) == chan_num_1i );
           
           raster_1d =   index_r( chan_index , 1 ) ;
           raster_1d_amp =   index_r( chan_index , 3 ) ;
           raster_1d = [ raster_1d   ci * ones( length( raster_1d ),1)  raster_1d_amp ];
%            raster_1d = [ raster_1d   chan_num_1i * ones( length( raster_1d ),1)  raster_1d_amp ];
        
           
           index_r_6well = [ index_r_6well ; raster_1d ];
           spikes_num = length(chan_index);
         end
         RASTER_data.index_r = index_r_6well ;
         RASTER_data.well_num = wi ;
         index_r_6well_all.RASTER_data = [ index_r_6well_all.RASTER_data  RASTER_data ];
    end
    
    